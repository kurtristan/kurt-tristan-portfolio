<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Content Manager</title>
  <meta name="robots" content="noindex, nofollow"/>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%238A9A8E' stroke-width='2'%3E%3Cpath d='m8 3 4 8 5-5 5 15H2L8 3z'/%3E%3C/svg%3E" type="image/svg+xml">

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; background: #f5f5f5; color: #2c2c2c; }

    /* Header */
    .admin-header { background: #8A9A8E; color: white; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; }
    .admin-header h1 { font-size: 1.5rem; font-weight: 700; }
    .admin-header .subtitle { font-size: 0.9rem; opacity: 0.8; }
    .admin-header .logo { display: flex; align-items: center; gap: 1rem; }
    .admin-header .icon { width: 40px; height: 40px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center; }

    /* Container */
    .admin-container { max-width: 1200px; margin: 2rem auto; padding: 0 2rem; }

    /* Navigation Tabs */
    .admin-tabs { display: flex; gap: 0.5rem; margin-bottom: 2rem; }
    .tab-button { padding: 1rem 2rem; background: white; border: 2px solid #ddd; border-radius: 10px; cursor: pointer; font-weight: 500; transition: all 0.3s; text-decoration: none; color: #2c2c2c; }
    .tab-button.active { background: #8A9A8E; color: white; border-color: #8A9A8E; }
    .tab-button:hover { border-color: #8A9A8E; }

    /* Tab Content */
    .tab-content { display: none; background: white; border-radius: 15px; padding: 2rem; box-shadow: 0 5px 20px rgba(0,0,0,0.1); }
    .tab-content.active { display: block; }

    /* Form Styles */
    .form-group { margin-bottom: 1.5rem; }
    .form-group label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: #2c2c2c; }
    .form-group input, .form-group textarea { width: 100%; padding: 1rem; border: 2px solid #ddd; border-radius: 10px; font-size: 1rem; transition: border-color 0.3s; }
    .form-group input:focus, .form-group textarea:focus { outline: none; border-color: #8A9A8E; }
    .form-group textarea { resize: vertical; min-height: 120px; }
    .form-group small { display:block; color:#666; margin-top:.5rem; }

    /* Buttons */
    .btn { padding: 1rem 2rem; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; transition: all 0.3s; text-decoration: none; display: inline-block; }
    .btn-primary { background: #8A9A8E; color: white; }
    .btn-primary:hover { background: #6B7A6F; transform: translateY(-2px); }
    .btn-secondary { background: #F5F1E8; color: #2c2c2c; border: 2px solid #ddd; }
    .btn-secondary:hover { border-color: #8A9A8E; }
    .btn-danger { background: #dc3545; color: white; }
    .btn-danger:hover { background: #c82333; }

    /* Gallery Manager */
    .gallery-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
    .gallery-card { background: #f9f9f9; border-radius: 10px; padding: 1rem; border: 2px solid #ddd; }
    .gallery-card h4 { margin-bottom: 0.5rem; }
    .gallery-card p { color: #666; margin-bottom: 1rem; }
    .gallery-card input { width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 5px; margin-bottom: 0.5rem; }

    /* Journal Manager */
    .journal-entries { margin-bottom: 2rem; }
    .journal-card { background: #F5F1E8; border-radius: 10px; padding: 1.5rem; margin-bottom: 1rem; border: 2px solid #ddd; }
    .journal-card h3 { margin-bottom: 0.5rem; color: #2c2c2c; }
    .journal-card .date { color: #8A9A8E; font-weight: 500; margin-bottom: 1rem; }
    .journal-card .content { color: #666; line-height: 1.6; }

    /* Code Output */
    .code-output { background: #2c2c2c; color: #f8f8f2; padding: 1.5rem; border-radius: 10px; font-family: 'Monaco','Menlo',monospace; font-size: 0.9rem; overflow-x: auto; margin-top: 1rem; max-height: 400px; overflow-y: auto; }
    .code-output textarea { width: 100%; height: 400px; background: #2c2c2c; color: #f8f8f2; border: none; font-family: monospace; padding: 1rem; border-radius: 10px; }

    /* Messages */
    .message { padding: 1rem; border-radius: 10px; margin-bottom: 1rem; }
    .message.success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
    .message.info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }

    /* Responsive */
    @media (max-width: 768px) {
      .admin-container { padding: 0 1rem; }
      .admin-tabs { flex-direction: column; }
      .gallery-grid { grid-template-columns: 1fr; }
    }

    /* Current Data */
    .current-data { background: #f8f9fa; padding: 1rem; border-radius: 10px; margin-bottom: 2rem; }
    .current-data h4 { margin-bottom: 1rem; color: #2c2c2c; }
    .current-data ul { margin-left: 1.5rem; margin-bottom: 1rem; }
    .current-data li { margin-bottom: 0.5rem; }
  </style>
</head>
<body>
  <!-- Admin Header -->
  <div class="admin-header">
    <div class="logo">
      <div class="icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="m8 3 4 8 5-5 5 15H2L8 3z"/>
        </svg>
      </div>
      <div>
        <h1>Kurt Tristan - Content Manager</h1>
        <div class="subtitle">Manage your photography portfolio</div>
      </div>
    </div>
    <div>
      <a href="/" target="_blank" rel="noopener" class="btn btn-secondary">View Website</a>
    </div>
  </div>

  <!-- Admin Container -->
  <div class="admin-container">
    <!-- Navigation Tabs -->
    <div class="admin-tabs">
      <a href="#gallery" class="tab-button active">üì∏ Gallery Manager</a>
      <a href="#journal" class="tab-button">‚úçÔ∏è Journal Manager</a>
      <a href="#export" class="tab-button">üíæ Export Code</a>
    </div>

    <!-- Gallery Manager Tab -->
    <div id="gallery-tab" class="tab-content active">
      <h2>Gallery Manager</h2>
      <p>Manage your photography gallery and locations</p>

      <div class="current-data">
        <h4>Current Photos:</h4>
        <ul>
          <li><strong>Gallery 1:</strong> Monterey, CA</li>
          <li><strong>Gallery 2:</strong> Monterey, CA</li>
          <li><strong>Gallery 3:</strong> San Francisco, CA</li>
          <li><strong>Gallery 4:</strong> Los Angeles, CA</li>
          <li><strong>Gallery 5:</strong> Los Angeles, CA</li>
          <li><strong>Gallery 6:</strong> San Jose, CA</li>
        </ul>
      </div>

      <div class="message info">
        <h4>To Add a New Photo:</h4>
        <ol>
          <li>Fill in the location below</li>
          <li>Go to "Export Code" tab</li>
          <li>Copy the generated code to your GitHub <code>index.html</code></li>
          <li>Upload your photo as <code>gallery-7.jpg</code> to your <code>photos</code> folder</li>
        </ol>
      </div>

      <div class="form-group">
        <label for="new-photo-location">New Photo Location</label>
        <input type="text" id="new-photo-location" placeholder="e.g., Oakland, CA" />
        <small>This will be added as Gallery 7</small>
      </div>
    </div>

    <!-- Journal Manager Tab -->
    <div id="journal-tab" class="tab-content">
      <h2>Journal Manager</h2>
      <p>Write and manage your journal entries</p>

      <div class="current-data">
        <h4>Current Journal Entry:</h4>
        <div class="journal-card">
          <h3>Moment</h3>
          <div class="date">May 25, 2025</div>
          <div class="content">The problem isn't just capturing the image, it's capturing the emotions I held while also being in that moment...</div>
        </div>
      </div>

      <h3>Write New Entry</h3>
      <div class="form-group">
        <label for="entry-title">Entry Title</label>
        <input type="text" id="entry-title" placeholder="Enter title..." />
      </div>

      <div class="form-group">
        <label for="entry-date">Entry Date</label>
        <input type="date" id="entry-date" />
      </div>

      <div class="form-group">
        <label for="entry-content">Entry Content</label>
        <textarea id="entry-content" placeholder="Write your journal entry here..."></textarea>
      </div>
    </div>

    <!-- Export Code Tab -->
    <div id="export-tab" class="tab-content">
      <h2>Export Updated Code</h2>
      <p>Get your updated website code to copy to GitHub</p>

      <div class="message info">
        <strong>Instructions:</strong>
        <ol>
          <li>Fill in your new content in the other tabs</li>
          <li>Click <em>Generate Code</em> below</li>
          <li>Copy the generated HTML code</li>
          <li>Replace your entire <code>index.html</code> file on GitHub</li>
          <li>Upload any new photos to your <code>photos</code> folder</li>
        </ol>
      </div>

      <button class="btn btn-primary" onclick="generateCode()">Generate Updated HTML Code</button>

      <div id="code-container" style="display: none;">
        <h3>Your Updated Website Code:</h3>
        <div class="code-output">
          <textarea id="generated-code" readonly></textarea>
        </div>
        <button class="btn btn-secondary" onclick="copyToClipboard()">üìã Copy to Clipboard</button>
      </div>
    </div>
  </div>

  <script>
    // ---------- Helpers to safely escape user input ----------
    function escapeHtml(str) {
      return String(str)
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#39;");
    }
    function escapeJsSingleQuoted(str) {
      return String(str)
        .replace(/\\/g, "\\\\")
        .replace(/'/g, "\\'")
        .replace(/\r/g, "\\r")
        .replace(/\n/g, "\\n");
    }

    // ---------- Tabs ----------
    document.addEventListener('DOMContentLoaded', function() {
      const tabButtons = document.querySelectorAll('.tab-button');
      const tabContents = document.querySelectorAll('.tab-content');

      tabButtons.forEach(button => {
        button.addEventListener('click', function(e) {
          e.preventDefault();
          const targetTab = (this.getAttribute('href') || '').substring(1);
          if (!targetTab) return;
          const pane = document.getElementById(targetTab + '-tab');
          if (!pane) return;

          tabButtons.forEach(btn => btn.classList.remove('active'));
          tabContents.forEach(content => content.classList.remove('active'));

          this.classList.add('active');
          pane.classList.add('active');
        });
      });
    });

    // ---------- Generate Code ----------
    function generateCode() {
      const newPhotoLocationRaw = document.getElementById('new-photo-location').value.trim();
      const entryTitleRaw = document.getElementById('entry-title').value.trim();
      const entryDate = document.getElementById('entry-date').value;
      const entryContentRaw = document.getElementById('entry-content').value.trim();

      let galleryData = [
        { src: 'photos/gallery-1.jpg', location: 'Monterey, CA' },
        { src: 'photos/gallery-2.jpg', location: 'Monterey, CA' },
        { src: 'photos/gallery-3.jpg', location: 'San Francisco, CA' },
        { src: 'photos/gallery-4.jpg', location: 'Los Angeles, CA' },
        { src: 'photos/gallery-5.jpg', location: 'Los Angeles, CA' },
        { src: 'photos/gallery-6.jpg', location: 'San Jose, CA' }
      ];

      if (newPhotoLocationRaw) {
        galleryData.push({
          src: 'photos/gallery-7.jpg',
          location: newPhotoLocationRaw
        });
      }

      let journalData = [
        {
          title: 'Moment',
          date: 'May 25, 2025',
          content: 'The problem isn\\'t just capturing the image, it\\'s capturing the emotions I held while also being in that moment. Moment. I now understand what people mean when they want to write a song, a poem, paint, or take the perfect photo. Maybe that\\'s why I am ever rarely satisfied with anything I create‚Äî it\\'s because I struggle to capture the Moment completely.'
        }
      ];

      if (entryTitleRaw && entryDate && entryContentRaw) {
        const d = new Date(entryDate);
        const formattedDate = isNaN(d.getTime())
          ? entryDate
          : d.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
        journalData.push({
          title: entryTitleRaw,
          date: formattedDate,
          content: entryContentRaw
        });
      }

      const galleryHTML = galleryData.map((item, index) =>
        `        <div class="gallery-item" onclick="openLightbox(${index})"><img src="${escapeHtml(item.src)}" alt="Adventure ${index + 1}" onerror="this.style.display='none'; this.parentElement.classList.add('placeholder'); this.parentElement.innerHTML='<div>Image Coming Soon</div>'"></div>`
      ).join('\n');

      const galleryJS = galleryData.map(item =>
        `      { src: '${escapeJsSingleQuoted(item.src)}', location: '${escapeJsSingleQuoted(item.location)}' }`
      ).join(',\n');

      const journalHTML = journalData.map(entry => `
        <article class="journal-entry">
          <div class="entry-header">
            <h3>${escapeHtml(entry.title)}</h3>
            <time>${escapeHtml(entry.date)}</time>
          </div>
          <div class="entry-content">
            <p>${escapeHtml(entry.content)}</p>
          </div>
        </article>`).join('');

      const fullHTML = `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kurt Tristan - Wander & Wonder</title>
  <meta name="description" content="Kurt Tristan - Explorer capturing moments of wonder">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%238A9A8E' stroke-width='2'%3E%3Cpath d='m8 3 4 8 5-5 5 15H2L8 3z'/%3E%3C/svg%3E" type="image/svg+xml">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.6; color: #2c2c2c; overflow-x: hidden; margin-left: 280px; }
    .sidebar { position: fixed; top: 0; left: 0; width: 280px; height: 100vh; background: rgba(255,255,255,0.95); backdrop-filter: blur(20px); z-index: 1000; padding: 2rem 0; display: flex; flex-direction: column; border-right: 1px solid rgba(138,154,142,0.1); }
    .sidebar-logo { padding: 0 2rem 3rem 2rem; border-bottom: 1px solid rgba(138,154,142,0.1); margin-bottom: 3rem; }
    .sidebar-logo h1 { font-size: 1.5rem; font-weight: 700; color: #2c2c2c; }
    .sidebar-logo p { font-size: 0.9rem; color: #8A9A8E; margin-top: .5rem; font-weight: 500; }
    .sidebar-nav { flex: 1; padding: 0 2rem; }
    .sidebar-nav ul { list-style: none; }
    .sidebar-nav li { margin-bottom: 1rem; }
    .sidebar-nav a { display: flex; align-items: center; padding: 1rem 1.5rem; text-decoration: none; color: #666; border-radius: 12px; transition: all .3s ease; font-weight: 500; }
    .sidebar-nav a:hover { background: rgba(138,154,142,0.1); color: #8A9A8E; transform: translateX(5px); }
    .sidebar-nav a.active { background: rgba(138,154,142,0.15); color: #8A9A8E; }
    .nav-icon { width: 24px; height: 24px; border-radius: 50%; background: #8A9A8E; display: flex; align-items: center; justify-content: center; margin-right: 1rem; color: white; }
    .sidebar-footer { padding: 2rem; border-top: 1px solid rgba(138,154,142,0.1); margin-top: auto; }
    .sidebar-footer p { font-size: .8rem; color: #999; text-align: center; }
    header { display: none; }
    .hero { height: 100vh; background: linear-gradient(135deg,#8A9A8E 0%,#6B7A6F 100%); display: flex; align-items: center; justify-content: center; text-align: center; color: white; position: relative; overflow: hidden; }
    .hero::before { content: ''; position: absolute; top:0; left:0; right:0; bottom:0; background: url('photos/hero-image.jpg') center/cover; opacity: 0; z-index:1; animation: heroFadeIn 2s ease 1s forwards; }
    .hero-content { position: relative; z-index: 2; max-width: 800px; padding: 0 2rem; }
    .hero h1 { font-size: clamp(3rem,8vw,6rem); font-weight: 800; margin-bottom: 1.5rem; letter-spacing: -2px; opacity:0; animation: fadeInUp 1s ease .5s forwards; }
    .hero p { font-size: 1.5rem; font-weight: 300; margin-bottom: 2rem; opacity:0; animation: fadeInUp 1s ease .7s forwards; }
    .cta-button { display:inline-block; padding:1rem 2.5rem; background:rgba(255,255,255,0.2); border:2px solid white; border-radius:50px; font-weight:600; color:white; text-decoration:none; transition:.3s; opacity:0; animation: fadeInUp 1s ease .9s forwards; }
    .cta-button:hover { background:white; color:#8A9A8E; transform:translateY(-3px); box-shadow:0 10px 30px rgba(0,0,0,.2); }
    .gallery { padding:8rem 0; background:#F5F1E8; }
    .gallery-container { max-width:1400px; margin:0 auto; padding:0 2rem; }
    .section-title { text-align:center; margin-bottom:4rem; }
    .section-title h2 { font-size:3rem; font-weight:700; color:#2c2c2c; margin-bottom:1rem; }
    .section-title p { font-size:1.2rem; color:#666; max-width:600px; margin:0 auto; }
    .gallery-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(350px,1fr)); gap:2rem; margin-bottom:4rem; }
    .gallery-item { position:relative; border-radius:20px; overflow:hidden; aspect-ratio:4/3; background:#ddd; transition:.3s; cursor:pointer; }
    .gallery-item:hover { transform:translateY(-10px); box-shadow:0 20px 40px rgba(0,0,0,.15); }
    .gallery-item img { width:100%; height:100%; object-fit:cover; transition:transform .3s; }
    .gallery-item:hover img { transform:scale(1.05); }
    .journal { padding:8rem 0; background:white; }
    .journal-container { max-width:800px; margin:0 auto; padding:0 2rem; }
    .journal-entries { display:flex; flex-direction:column; gap:3rem; }
    .journal-entry { background:#F5F1E8; border-radius:20px; padding:3rem; transition:.3s; }
    .journal-entry:hover { transform:translateY(-5px); box-shadow:0 15px 30px rgba(138,154,142,0.1); }
    .entry-header { margin-bottom:2rem; padding-bottom:1rem; border-bottom:1px solid rgba(138,154,142,0.2); }
    .entry-header h3 { font-size:2rem; font-weight:700; color:#2c2c2c; margin-bottom:0.5rem; }
    .entry-header time { font-size:1rem; color:#8A9A8E; font-weight:500; }
    .entry-content p { font-size:1.1rem; line-height:1.8; color:#2c2c2c; font-style:italic; }
    .placeholder { background: linear-gradient(45deg,#f0f0f0,#e0e0e0); display:flex; align-items:center; justify-content:center; color:#666; font-size:1.1rem; font-weight:500; }
    .lightbox { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,.95); display:flex; align-items:center; justify-content:center; z-index:2000; opacity:0; visibility:hidden; transition:.3s; }
    .lightbox.active { opacity:1; visibility:visible; }
    .lightbox-content { position:relative; max-width:95vw; max-height:95vh; display:flex; flex-direction:column; align-items:center; }
    .lightbox-image { max-width:100%; max-height:85vh; object-fit:contain; border-radius:10px; box-shadow:0 20px 60px rgba(0,0,0,.5); }
    .lightbox-caption { color:white; font-size:1rem; font-weight:500; margin-top:1.5rem; text-align:center; background:rgba(255,255,255,0.1); padding:.75rem 1.5rem; border-radius:25px; backdrop-filter:blur(10px); border:1px solid rgba(255,255,255,0.1); }
    .lightbox-close { position:absolute; top:2rem; right:2rem; background:rgba(255,255,255,0.2); border:none; color:white; font-size:2rem; width:50px; height:50px; border-radius:50%; cursor:pointer; display:flex; align-items:center; justify-content:center; transition:.3s; }
    .lightbox-close:hover { background:rgba(255,255,255,0.3); transform:scale(1.1); }
    .lightbox-nav { position:absolute; top:50%; transform:translateY(-50%); background:rgba(255,255,255,0.2); border:none; color:white; font-size:2rem; width:60px; height:60px; border-radius:50%; cursor:pointer; display:flex; align-items:center; justify-content:center; transition:.3s; }
    .lightbox-nav:hover { background:rgba(255,255,255,0.3); transform:translateY(-50%) scale(1.1); }
    .lightbox-prev { left:2rem; }
    .lightbox-next { right:2rem; }
    footer { background:#8A9A8E; color:white; padding:3rem 0; text-align:center; }
    .footer-content { max-width:1200px; margin:0 auto; padding:0 2rem; }
    .footer-content p { font-size:1rem; opacity:0.8; }
    @keyframes fadeInUp { from {opacity:0; transform:translateY(30px);} to {opacity:1; transform:translateY(0);} }
    @keyframes heroFadeIn { from {opacity:0;} to {opacity:0.8;} }
    @media (max-width:1024px) { body{margin-left:0;} .sidebar{transform:translateX(-100%);transition:.3s;} .sidebar.open{transform:translateX(0);} header{display:block; position:fixed; top:0; width:100%; background:rgba(255,255,255,0.95); backdrop-filter:blur(20px); z-index:1001; padding:1rem 0;} nav{max-width:1400px; margin:0 auto; display:flex; justify-content:space-between; align-items:center; padding:0 2rem;} .logo{font-size:1.5rem; font-weight:700; color:#2c2c2c; text-decoration:none;} .mobile-menu-btn{background:none; border:none; font-size:1.5rem; color:#2c2c2c; cursor:pointer;} .hero{padding-top:80px; height:calc(100vh - 80px);} }
    @media (max-width:768px) { .hero h1{font-size:3rem;} .hero p{font-size:1.2rem;} .gallery-grid{grid-template-columns:1fr;} .section-title h2{font-size:2rem;} .sidebar{width:100%;} }
    html { scroll-behavior:smooth; }
  </style>
</head>
<body>
  <div class="sidebar">
    <div class="sidebar-logo"><h1>Kurt Tristan</h1><p>Explorer</p></div>
    <nav class="sidebar-nav">
      <ul>
        <li><a href="#home" class="nav-link active"><div class="nav-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m8 3 4 8 5-5 5 15H2L8 3z"/></svg></div>Home</a></li>
        <li><a href="#gallery" class="nav-link"><div class="nav-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg></div>Gallery</a></li>
        <li><a href="#journal" class="nav-link"><div class="nav-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 3a2.83 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg></div>Journal</a></li>
      </ul>
    </nav>
    <div class="sidebar-footer"><p>&copy; 2025 Kurt Tristan</p></div>
  </div>
  <header><nav><a href="#" class="logo">Kurt Tristan</a><button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button></nav></header>
  <section class="hero" id="home">
    <div class="hero-content"><h1>Wander & Wonder</h1><p>When is Anything Ever Always?</p><a href="#gallery" class="cta-button">Explore Gallery</a></div>
  </section>
  <section class="gallery" id="gallery">
    <div class="gallery-container">
      <div class="section-title"><h2>Featured Collection</h2><p>A curated selection of moments captured during extraordinary adventures</p></div>
      <div class="gallery-grid">
${galleryHTML}
      </div>
    </div>
  </section>
  <section class="journal" id="journal">
    <div class="journal-container">
      <div class="section-title"><h2>Journal</h2><p>Reflections on moments, meaning, and the art of seeing</p></div>
      <div class="journal-entries">
${journalHTML}
      </div>
    </div>
  </section>
  <div class="lightbox" id="lightbox">
    <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
    <button class="lightbox-nav lightbox-prev" onclick="previousImage()">&#8249;</button>
    <button class="lightbox-nav lightbox-next" onclick="nextImage()">&#8250;</button>
    <div class="lightbox-content">
      <img class="lightbox-image" id="lightbox-image" src="" alt="">
      <div class="lightbox-caption" id="lightbox-caption"></div>
    </div>
  </div>
  <footer><div class="footer-content"><p>&copy; 2025 Kurt Tristan. All rights reserved. | Capturing moments, creating memories.</p></div></footer>
  <script>
    // ---------- Data for generated site ----------
    const galleryImages = [
${galleryJS}
    ];

    let currentImageIndex = 0;

    function openLightbox(index) {
      currentImageIndex = index;
      const lightbox = document.getElementById('lightbox');
      const img = document.getElementById('lightbox-image');
      const caption = document.getElementById('lightbox-caption');
      img.src = galleryImages[index].src;
      caption.textContent = galleryImages[index].location;
      lightbox.classList.add('active');
      document.body.style.overflow='hidden';
    }
    function closeLightbox(){document.getElementById('lightbox').classList.remove('active'); document.body.style.overflow='auto';}
    function nextImage(){currentImageIndex=(currentImageIndex+1)%galleryImages.length; updateLightboxImage();}
    function previousImage(){currentImageIndex=(currentImageIndex-1+galleryImages.length)%galleryImages.length; updateLightboxImage();}
    function updateLightboxImage(){const img=document.getElementById('lightbox-image'); const caption=document.getElementById('lightbox-caption'); img.src=galleryImages[currentImageIndex].src; caption.textContent=galleryImages[currentImageIndex].location;}

    document.addEventListener('keydown',e=>{if(e.key==='Escape')closeLightbox(); else if(e.key==='ArrowRight')nextImage(); else if(e.key==='ArrowLeft')previousImage();});
    document.getElementById('lightbox').addEventListener('click',e=>{if(e.target===e.currentTarget)closeLightbox();});

    function toggleSidebar(){document.querySelector('.sidebar').classList.toggle('open');}
    document.addEventListener('click',e=>{const sidebar=document.querySelector('.sidebar'); const btn=document.querySelector('.mobile-menu-btn'); if(window.innerWidth<=1024 && !sidebar.contains(e.target)&&(!btn || !btn.contains(e.target))&&sidebar.classList.contains('open'))sidebar.classList.remove('open');});

    document.querySelectorAll('.nav-link').forEach(anchor=>{anchor.addEventListener('click',function(e){e.preventDefault(); const target=document.querySelector(this.getAttribute('href')); if(target){target.scrollIntoView({behavior:'smooth'}); document.querySelectorAll('.nav-link').forEach(l=>l.classList.remove('active')); this.classList.add('active'); if(window.innerWidth<=1024)document.querySelector('.sidebar').classList.remove('open');}});});

    window.addEventListener('scroll',()=>{const sections=['home','gallery','journal']; const pos=window.scrollY+200; sections.forEach(id=>{const el=document.getElementById(id); if(el && pos>=el.offsetTop && pos<el.offsetTop+el.offsetHeight){document.querySelectorAll('.nav-link').forEach(l=>l.classList.remove('active')); document.querySelector(\`.nav-link[href="#\${id}"]\`).classList.add('active');}});});

    const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.style.opacity='1'; entry.target.style.transform='translateY(0)';}});},{threshold:0.1,rootMargin:'0px 0px -50px 0px'});
    document.querySelectorAll('.gallery-item, .journal-entry').forEach(item=>{item.style.opacity='0';item.style.transform='translateY(30px)';item.style.transition='all 0.6s ease';observer.observe(item);});

    // ---------- Generate Code ----------
    function generateCode() {
      const newPhotoLocationRaw = document.getElementById('new-photo-location').value.trim();
      const entryTitleRaw = document.getElementById('entry-title').value.trim();
      const entryDate = document.getElementById('entry-date').value;
      const entryContentRaw = document.getElementById('entry-content').value.trim();

      let galleryData = [
        { src: 'photos/gallery-1.jpg', location: 'Monterey, CA' },
        { src: 'photos/gallery-2.jpg', location: 'Monterey, CA' },
        { src: 'photos/gallery-3.jpg', location: 'San Francisco, CA' },
        { src: 'photos/gallery-4.jpg', location: 'Los Angeles, CA' },
        { src: 'photos/gallery-5.jpg', location: 'Los Angeles, CA' },
        { src: 'photos/gallery-6.jpg', location: 'San Jose, CA' }
      ];
      if (newPhotoLocationRaw) {
        galleryData.push({ src: 'photos/gallery-7.jpg', location: newPhotoLocationRaw });
      }

      let journalData = [
        {
          title: 'Moment',
          date: 'May 25, 2025',
          content: 'The problem isn\\'t just capturing the image, it\\'s capturing the emotions I held while also being in that moment. Moment. I now understand what people mean when they want to write a song, a poem, paint, or take the perfect photo. Maybe that\\'s why I am ever rarely satisfied with anything I create‚Äî it\\'s because I struggle to capture the Moment completely.'
        }
      ];
      if (entryTitleRaw && entryDate && entryContentRaw) {
        const d = new Date(entryDate);
        const formattedDate = isNaN(d.getTime())
          ? entryDate
          : d.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
        journalData.push({ title: entryTitleRaw, date: formattedDate, content: entryContentRaw });
      }

      const galleryHTML = galleryData.map((item, index) =>
        `        <div class="gallery-item" onclick="openLightbox(${index})"><img src="${escapeHtml(item.src)}" alt="Adventure ${index + 1}" onerror="this.style.display='none'; this.parentElement.classList.add('placeholder'); this.parentElement.innerHTML='<div>Image Coming Soon</div>'"></div>`
      ).join('\n');

      const galleryJS = galleryData.map(item =>
        `      { src: '${escapeJsSingleQuoted(item.src)}', location: '${escapeJsSingleQuoted(item.location)}' }`
      ).join(',\n');

      const journalHTML = journalData.map(entry => `
        <article class="journal-entry">
          <div class="entry-header">
            <h3>${escapeHtml(entry.title)}</h3>
            <time>${escapeHtml(entry.date)}</time>
          </div>
          <div class="entry-content">
            <p>${escapeHtml(entry.content)}</p>
          </div>
        </article>`).join('');

      const fullHTML = `<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kurt Tristan - Wander & Wonder</title>
  <meta name="description" content="Kurt Tristan - Explorer capturing moments of wonder">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%238A9A8E' stroke-width='2'%3E%3Cpath d='m8 3 4 8 5-5 5 15H2L8 3z'/%3E%3C/svg%3E" type="image/svg+xml">
  <style>/* ‚Ä¶ your same site CSS ‚Ä¶ */</style>
</head>
<body>
  <!-- ‚Ä¶ your same site HTML ‚Ä¶ -->
  <script>
    const galleryImages = [
${galleryJS}
    ];
    // ‚Ä¶ your same site JS ‚Ä¶
  </script>
</body>
</html>`;

      document.getElementById('generated-code').value = fullHTML;
      document.getElementById('code-container').style.display = 'block';
    }

    // ---------- Copy to clipboard (modern + fallback) ----------
    function copyToClipboard() {
      const codeTextarea = document.getElementById('generated-code');
      const text = codeTextarea.value;

      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text)
          .then(() => alert('Code copied to clipboard! Now paste it into your GitHub index.html file.'))
          .catch(() => legacyCopy(codeTextarea));
      } else {
        legacyCopy(codeTextarea);
      }
    }
    function legacyCopy(el) {
      el.focus();
      el.select();
      el.setSelectionRange(0, 999999);
      try {
        const ok = document.execCommand('copy');
        alert(ok ? 'Code copied to clipboard! Now paste it into your GitHub index.html file.' : 'Unable to copy automatically. Please manually select and copy the code above.');
      } catch {
        alert('Unable to copy automatically. Please manually select and copy the code above.');
      }
    }
  </script>
</body>
</html>
